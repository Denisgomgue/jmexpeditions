function generarCodigo(){var e=document.getElementById("nombre").value,t=document.getElementById("ubicacion").value,n=(document.getElementById("categoria").value,""),r=e.trim().split(" "),s=t.trim().split(" ");r.length>=2?n+=r[0].substring(0,2).toUpperCase()+r[1].substring(0,2).toUpperCase():1===r.length&&r[0].length>=4?n+=r[0].substring(0,4).toUpperCase():n+=r[0].substring(0,2).toUpperCase();s.length>=2?n+=s[0].substring(0,2).toUpperCase()+s[1].substring(0,2).toUpperCase():1===s.length&&s[0].length>=4?n+=s[0].substring(0,4).toUpperCase():n+=s[0].substring(0,2).toUpperCase();n+=Math.floor(100*Math.random()).toString().padStart(2,"0"),document.getElementById("codigo").value=n}document.querySelectorAll(".dropzone").forEach((e=>{const t=e.querySelector(".custom-file-input"),n=e.querySelector(".custom-file-label");e.addEventListener("dragover",(t=>{t.preventDefault(),e.classList.add("dragover")})),e.addEventListener("dragleave",(()=>{e.classList.remove("dragover")})),e.addEventListener("drop",(r=>{r.preventDefault(),e.classList.remove("dragover");const s=r.dataTransfer.files;s.length&&(t.files=s,n.textContent=s[0].name)})),t.addEventListener("change",(()=>{t.files.length&&(n.textContent=t.files[0].name)}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('.image-upload input[type="file"]').forEach((e=>{e.addEventListener("change",(function(){const t=e.parentElement,n=t.querySelector("i"),r=t.querySelector("img")||document.createElement("img");if(e.files&&e.files[0]){const s=new FileReader;s.onload=function(e){r.src=e.target.result,r.style.display="block",n.style.display="none",t.appendChild(r)},s.readAsDataURL(e.files[0])}else r.style.display="none",n.style.display="block"}))}))}));